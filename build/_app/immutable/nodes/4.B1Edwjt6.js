import{d as I,e as O,a as R,t as T,s as V}from"../chunks/disclose-version.CqonUCmH.js";import{p as F,c as r,s as e,t as J,a as L,q as m,u as i,v as k,r as a}from"../chunks/runtime.DKKVhXn3.js";import{r as q}from"../chunks/attributes.DPF-LA93.js";import{b as D}from"../chunks/input.UVfDDOax.js";import{g as N}from"../chunks/entry.BwpUXKzF.js";import{u as U}from"../chunks/userState.C-ku10EW.js";import{v as G}from"../chunks/constants.BwZZvw7B.js";async function H(y,u,d,l){m(u,1);const o={email:i(d),password:i(l),platform:navigator.userAgentData.platform};try{const t=await fetch(G.BASE_API_URI+"/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(t.ok){console.log("Sign-in successful");const s=await t.json();if(s.error!=0)throw Error(s.msg);s.data.token=s.token,U.set(s.data),N("/")}else console.error("Sign-in failed")}catch(t){console.error("An error occurred during sign-in",t)}m(u,0)}var K=T(`<div class="flex min-h-screen items-center bg-gray-100 py-16 dark:bg-neutral-800"><main class="mx-auto w-full max-w-md p-6"><div class="mt-7 rounded-xl border border-gray-200 bg-white shadow-sm dark:border-neutral-700 dark:bg-neutral-900"><div class="p-4 sm:p-7"><div class="text-center"><h1 class="block text-2xl font-bold text-gray-800 dark:text-white">Sign in</h1> <p class="mt-2 text-sm text-gray-600 dark:text-neutral-400">Don't have an account yet? <a class="font-medium text-blue-600 decoration-2 hover:underline focus:underline focus:outline-none dark:text-blue-500" href="../examples/html/signup.html">Sign up here</a></p></div> <div class="mt-5"><form><div class="grid gap-y-4"><div><label for="email" class="mb-2 block text-sm dark:text-white">Email address</label> <div class="relative"><input type="email" id="email" name="email" class="block w-full rounded-lg border border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" required aria-describedby="email-error"> <div class="pointer-events-none absolute inset-y-0 end-0 hidden pe-3"><svg class="size-5 text-red-500" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path></svg></div></div> <p class="mt-2 hidden text-xs text-red-600" id="email-error">Please include a valid email address so we can get back to you</p></div> <div><div class="flex items-center justify-between"><label for="password" class="mb-2 block text-sm dark:text-white">Password</label> <a class="inline-flex items-center gap-x-1 text-sm font-medium text-blue-600 decoration-2 hover:underline focus:underline focus:outline-none dark:text-blue-500" href="./">Forgot password?</a></div> <div class="relative"><input type="password" id="password" name="password" class="block w-full rounded-lg border border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" required aria-describedby="password-error"> <div class="pointer-events-none absolute inset-y-0 end-0 hidden pe-3"><svg class="size-5 text-red-500" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path></svg></div></div> <p class="mt-2 hidden text-xs text-red-600" id="password-error">8+ characters required</p></div> <div class="flex items-center"><div class="flex"><input id="remember-me" name="remember-me" type="checkbox" class="mt-0.5 shrink-0 rounded border-gray-200 text-blue-600 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-800 dark:checked:border-blue-500 dark:checked:bg-blue-500 dark:focus:ring-offset-gray-800"></div> <div class="ms-3"><label for="remember-me" class="text-sm dark:text-white">Remember me</label></div></div> <button type="submit" class="inline-flex w-full items-center justify-center gap-x-2 rounded-lg border border-transparent bg-blue-600 px-4 py-3 text-sm font-medium text-white hover:bg-blue-700 focus:bg-blue-700 focus:outline-none disabled:pointer-events-none disabled:opacity-50"> </button></div></form></div></div></div></main></div>`);function re(y,u){F(u,!0);let d=k(""),l=k(""),o=k(0);var t=K(),s=r(t),w=r(s),_=r(w),M=r(_),z=e(e(M)),v=r(z),A=r(v),b=r(A),P=r(b),p=e(e(P)),f=r(p);q(f),e(e(f)),a(p),e(e(p)),a(b);var S=e(b);S.nodeValue="  ";var g=e(S),B=r(g),x=e(e(B)),h=r(x);q(h),e(e(h)),a(x),e(e(x)),a(g);var j=e(g);j.nodeValue="  ";var C=e(j),c=e(e(C));c.__click=[H,o,d,l];var E=r(c);a(c),a(A),a(v),a(z),a(_),a(w),a(s),a(t),J(()=>{c.disabled=i(o)==1,V(E,i(o)?"Loading..":"Sign in")}),O("submit",v,n=>n.preventDefault),D(f,()=>i(d),n=>m(d,n)),D(h,()=>i(l),n=>m(l,n)),R(y,t),L()}I(["click"]);export{re as component};

import{g as n}from"../chunks/entry.BTTsi4hx.js";import{u as a,p as l}from"../chunks/api.CVs1Njwt.js";import"../chunks/disclose-version.Bg9kRutz.js";import{p as c,f as p,a as u}from"../chunks/runtime.BR6g6J_c.js";import{c as f,a as m}from"../chunks/template.BP1--SxR.js";import{s as g}from"../chunks/snippet.CIEIrn32.js";import{o as y}from"../chunks/index-client.DKH2INGl.js";import{s as b}from"../chunks/constants.BMsDCIq7.js";const d=!1,h=!0,v=!1,w="always";async function _(){if(await a.init(),!a.auth_token){n("auth/login");return}return console.log(a),{user:a}}const x=Object.freeze(Object.defineProperty({__proto__:null,csr:h,load:_,prerender:v,ssr:d,trailingSlash:w},Symbol.toStringTag,{value:"Module"}));function z(s,o){c(o,!0),y(async()=>{if("serviceWorker"in navigator)if(await Notification.requestPermission()!=="granted")alert("Please allow notifications to make sure that the application works.");else{const r=await navigator.serviceWorker.ready;let t=await r.pushManager.getSubscription();t||(t=await r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b})),console.log(t),l(t)}});var e=f(),i=p(e);g(i,()=>o.children),m(s,e),u()}export{z as component,x as universal};

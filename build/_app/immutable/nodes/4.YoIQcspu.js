import"../chunks/disclose-version.Bg9kRutz.js";import{i as ae}from"../chunks/legacy.Yk3DuFOY.js";import{b as re,h as V,e as Y,d as oe,g as J,a6 as ie,aH as se,aG as ne,o as le,l as de,k as ue,p as O,t as C,a as G,s as w,u as ce,c,r as v,f as T,C as k,N as ve,D as W,F as j,aP as fe,aQ as me}from"../chunks/runtime.BR6g6J_c.js";import{b as K,e as be,a as g,t as N,c as F,n as ge,d as he}from"../chunks/template.BP1--SxR.js";import{s as z,d as pe,k as _e}from"../chunks/render.D5nJIJxX.js";import{s as xe}from"../chunks/snippet.CIEIrn32.js";import{p as l,l as D,s as H}from"../chunks/props.Mz8E5OJK.js";import{p as X}from"../chunks/proxy.nd9q0MFQ.js";import{g as ye}from"../chunks/entry.BTTsi4hx.js";import{i as R}from"../chunks/if.DGIIoMx7.js";import{r as $,s as y,a as Z}from"../chunks/attributes.DESiRgd7.js";import{b as ee}from"../chunks/input.BFc_M43E.js";import{s as B}from"../chunks/slot.BbHgQEQA.js";import{e as ke,i as we}from"../chunks/each.ClQPimNj.js";import{e as Ne}from"../chunks/svelte-element.8oNChgG8.js";import{a as Pe,u as M,f as Se}from"../chunks/api.CVs1Njwt.js";function Ee(s,e,o,n,i){var d=s,a="",t;re(()=>{if(a===(a=e()??"")){V&&Y();return}t!==void 0&&(ue(t),t=void 0),a!==""&&(t=oe(()=>{if(V){J.data;for(var r=Y(),h=r;r!==null&&(r.nodeType!==8||r.data!=="");)h=r,r=ie(r);if(r===null)throw se(),ne;K(J,h),d=le(r);return}var p=a+"",u=be(p);K(de(u),u.lastChild),d.before(u)}))})}var Ce=N('<div class="p-4 sm:p-7"><div class="text-center"><h1 class="block text-2xl font-bold text-gray-800 dark:text-white"> </h1> <p class="mt-2 text-sm text-gray-600 dark:text-neutral-400"><!></p></div> <!></div>');function qe(s,e){O(e,!0);let o=l(e,"title",3,""),n=l(e,"description",3,"");var i=Ce(),d=c(i),a=c(d),t=c(a,!0);v(a);var r=w(a,2),h=c(r);Ee(h,n),v(r),v(d);var p=w(d,2);xe(p,()=>e.children??ce),v(i),C(()=>z(t,o())),g(s,i),G()}var Ie=N('<p class="mt-2 text-xs text-red-600 dark:text-red-400"> </p>'),Me=N('<p class="mt-2 text-xs text-gray-600 dark:text-neutral-400"> </p>'),ze=N('<div><label class="mb-2 block text-sm dark:text-white"> </label> <div class="relative"><input class="block w-full rounded-lg border border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"></div> <!></div>');function Te(s,e){let o=l(e,"type",3,"text"),n=l(e,"name",3,"input"),i=l(e,"value",15,""),d=l(e,"label",3,""),a=l(e,"placeholder",3,""),t=l(e,"id",3,""),r=l(e,"required",3,!1),h=l(e,"errorMessage",3,""),p=l(e,"helperText",3,"");var u=ze(),m=c(u),f=c(m,!0);v(m);var _=w(m,2),b=c(_);$(b),v(_);var P=w(_,2);{var x=S=>{var E=Ie(),q=c(E,!0);v(E),C(()=>{y(E,"id",t()+"-helper"),z(q,h())}),g(S,E)},A=S=>{var E=F(),q=T(E);{var Q=I=>{var U=Me(),te=c(U,!0);v(U),C(()=>{y(U,"id",t()+"-helper"),z(te,p())}),g(I,U)};R(q,I=>{p()&&I(Q)},!0)}g(S,E)};R(P,S=>{h()?S(x):S(A,!1)})}v(u),C(()=>{y(m,"for",t()),z(f,d()),y(b,"id",t()),y(b,"type",o()),y(b,"name",n()),y(b,"placeholder",a()),b.required=r(),y(b,"aria-describedby",t()+"-helper")}),ee(b,i),g(s,u)}/**
 * @license lucide-svelte v0.429.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var We=ge("<svg><!><!></svg>");function L(s,e){const o=D(e,["children","$$slots","$$events","$$legacy"]),n=D(o,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);O(e,!1);let i=l(e,"name",8,void 0),d=l(e,"color",8,"currentColor"),a=l(e,"size",8,24),t=l(e,"strokeWidth",8,2),r=l(e,"absoluteStrokeWidth",8,!1),h=l(e,"iconNode",24,()=>[]);const p=(...b)=>b.filter((P,x,A)=>!!P&&A.indexOf(P)===x).join(" ");ae();var u=We();let m;var f=c(u);ke(f,1,h,we,(b,P)=>{let x=()=>k(P)[0],A=()=>k(P)[1];var S=F(),E=T(S);Ne(E,x,!0,(q,Q)=>{let I;C(()=>I=Z(q,I,{...A()},void 0,q.namespaceURI===ve,q.nodeName.includes("-")))}),g(b,S)});var _=w(f);B(_,e,"default",{},null),v(u),C(()=>m=Z(u,m,{...Ae,...n,width:a(),height:a(),stroke:d(),"stroke-width":r()?Number(t())*24/Number(a()):t(),class:p("lucide-icon","lucide",i()?`lucide-${i()}`:"",o.class)},void 0,!0)),g(s,u),G()}function De(s,e){const o=D(e,["children","$$slots","$$events","$$legacy"]);L(s,H({name:"eye-off"},()=>o,{iconNode:[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]],children:(i,d)=>{var a=F(),t=T(a);B(t,e,"default",{},null),g(i,a)},$$slots:{default:!0}}))}function Re(s,e){const o=D(e,["children","$$slots","$$events","$$legacy"]);L(s,H({name:"eye"},()=>o,{iconNode:[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(i,d)=>{var a=F(),t=T(a);B(t,e,"default",{},null),g(i,a)},$$slots:{default:!0}}))}function Fe(s,e){const o=D(e,["children","$$slots","$$events","$$legacy"]);L(s,H({name:"loader-circle"},()=>o,{iconNode:[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]],children:(i,d)=>{var a=F(),t=T(a);B(t,e,"default",{},null),g(i,a)},$$slots:{default:!0}}))}var Ue=(s,e)=>W(e,!k(e)),je=N('<div><label class="block text-sm mb-2"> </label> <div class="relative"><input class="block w-full rounded-lg border border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"> <button type="button" class="absolute right-2 top-1/2 transform -translate-y-1/2"><!> <!></button></div></div>');function Be(s,e){let o=l(e,"id",3,"password"),n=l(e,"label",3,"Password"),i=l(e,"value",15),d=l(e,"required",3,!1),a=j(!1);var t=je(),r=c(t),h=c(r,!0);v(r);var p=w(r,2),u=c(p);$(u);var m=w(u,2);m.__click=[Ue,a];var f=c(m);{var _=x=>{De(x,{})};R(f,x=>{k(a)&&x(_)})}var b=w(f,2);{var P=x=>{Re(x,{})};R(b,x=>{k(a)||x(P)})}v(m),v(p),v(t),C(()=>{y(r,"for",o()),z(h,n()),y(u,"id",o()),y(u,"type",k(a)?"text":"password"),u.required=d()}),ee(u,i),g(s,t)}pe(["click"]);var Oe=N("<!> Processing...",1),Ge=N('<button type="submit" class="inline-flex w-full items-center justify-center gap-x-2 rounded-lg border border-transparent bg-blue-600 px-4 py-3 text-sm font-medium text-white hover:bg-blue-700 focus:bg-blue-700 focus:outline-none disabled:pointer-events-none disabled:opacity-50"><!></button>');function He(s,e){let o=l(e,"loading",3,0);var n=Ge(),i=c(n);{var d=t=>{var r=Oe(),h=T(r);Fe(h,{class:"animate-spin"}),fe(),g(t,r)},a=t=>{var r=he();C(()=>z(r,e.defaultText)),g(t,r)};R(i,t=>{o()?t(d):t(a,!1)})}v(n),C(()=>n.disabled=o()>0),g(s,n)}function Le(s,e){e.create({title:"Error",description:s,type:"error"})}var Qe=N('<form><div class="grid gap-y-4"><!>  <!>  <!></div></form>');function Ve(s,e){O(e,!0);let o=j("mashikur@gmail.com"),n=j("adminadmin"),i=j(0),d=me("toast");async function a(m){m.preventDefault(),W(i,1);try{const f=await Pe({email:k(o),password:k(n)});if(console.log("Sign-in response:",f),f.error!=0)throw new Error(f.msg);const _=f.data.user;if(await M.setAuthToken(f.token),await M.setServices(f.data.services),await M.setSettings(f.data.settings),await M.setInfo({name:_.name,email:_.email,notification:_.notification,owner_id:_.owner_id,owner_type:_.owner_type,phone:_.phone}),M.auth_token){const b=await Se();console.log("Policies data:",b),await M.setPolicies(b.data)}else throw new Error("User authentication token is missing");ye("/")}catch(f){f instanceof Error&&Le(f.message,d)}finally{W(i,0)}}var t=Qe(),r=c(t),h=c(r);Te(h,{id:"email",type:"email",label:"Email",required:!0,get value(){return k(o)},set value(m){W(o,X(m))}});var p=w(h,2);Be(p,{id:"password",label:"Password",required:!0,get value(){return k(n)},set value(m){W(n,X(m))}});var u=w(p,2);He(u,{get loading(){return k(i)},defaultText:"Sign in"}),v(r),v(t),_e("submit",t,a),g(s,t),G()}var Ye=N('<div class="mt-5"><!></div>'),Je=N('<div class="flex min-h-screen items-center bg-gray-100 py-16 dark:bg-neutral-800"><main class="mx-auto w-full max-w-md p-6"><div class="mt-7 rounded-xl border border-gray-200 bg-white shadow-sm dark:border-neutral-700 dark:bg-neutral-900"><!></div></main></div>');function vt(s){var e=Je(),o=c(e),n=c(o),i=c(n);qe(i,{title:"Sign In",description:`Don't have an account yet?
						<a
							class="font-medium text-blue-600 decoration-2 hover:underline focus:underline focus:outline-none dark:text-blue-500"
							href="#"
						>
							Sign up here
						</a>`,children:(d,a)=>{var t=Ye(),r=c(t);Ve(r,{}),v(t),g(d,t)},$$slots:{default:!0}}),v(n),v(o),v(e),g(s,e)}export{vt as component};

import{ae as G,a4 as B,u as m,D as K,C as l,L as $,O,af as z,ag as H,ah as F,ai as V,A as L,aj as T,ak as d,S as N,al as Y,am as Z,an as J,ao as g,ap as Q,y as W,aq as X,ar as k,ac as q,as as ee,q as C,at as re}from"./runtime.BR6g6J_c.js";import{p as ne}from"./proxy.nd9q0MFQ.js";import{s as se}from"./utils.DeeHjLpD.js";let v=!1;function pe(e,r,s){const n=s[r]??(s[r]={store:null,source:B(void 0),unsubscribe:m});if(n.store!==e)if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=m;else{var i=!0;n.unsubscribe=se(e,t=>{i?n.source.v=t:K(n.source,t)}),i=!1}return l(n.source)}function _e(e,r,s){let n=s[r];return n&&n.store!==e&&(n.unsubscribe(),n.unsubscribe=m),e}function de(e,r){return e.set(r),r}function ve(){const e={};return G(()=>{for(var r in e)e[r].unsubscribe()}),e}function be(e,r,s){return e.set(s),r}function ue(e){var r=v;try{return v=!1,[e(),v]}finally{v=r}}const ie={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function he(e,r,s){return new Proxy({props:e,exclude:r},ie)}const te={get(e,r){if(!e.exclude.includes(r))return l(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,s){return r in e.special||(e.special[r]=le({get[r](){return e.props[r]}},r,F)),e.special[r](s),T(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),T(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Pe(e,r){return new Proxy({props:e,exclude:r,special:{},version:$(0)},te)}const ae={get(e,r){let s=e.props.length;for(;s--;){let n=e.props[s];if(d(n)&&(n=n()),typeof n=="object"&&n!==null&&r in n)return n[r]}},set(e,r,s){let n=e.props.length;for(;n--;){let i=e.props[n];d(i)&&(i=i());const t=O(i,r);if(t&&t.set)return t.set(s),!0}return!1},getOwnPropertyDescriptor(e,r){let s=e.props.length;for(;s--;){let n=e.props[s];if(d(n)&&(n=n()),typeof n=="object"&&n!==null&&r in n){const i=O(n,r);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,r){if(r===N||r===Y)return!1;for(let s of e.props)if(d(s)&&(s=s()),s!=null&&r in s)return!0;return!1},ownKeys(e){const r=[];for(let s of e.props){d(s)&&(s=s());for(const n in s)r.includes(n)||r.push(n)}return r}};function we(...e){return new Proxy({props:e},ae)}function y(e){for(var r=C,s=C;r!==null&&!(r.f&(Z|J));)r=r.parent;try{return g(r),e()}finally{g(s)}}function le(e,r,s,n){var D;var i=(s&Q)!==0,t=!W||(s&X)!==0,b=(s&k)!==0,j=(s&re)!==0,E=!1,f;b?[f,E]=ue(()=>e[r]):f=e[r];var M=N in e||Y in e,p=((D=O(e,r))==null?void 0:D.set)??(M&&b&&r in e?u=>e[r]=u:void 0),a=n,h=!0,P=!1,R=()=>(P=!0,h&&(h=!1,j?a=L(n):a=n),a);f===void 0&&n!==void 0&&(p&&t&&z(),f=R(),p&&p(f));var o;if(t)o=()=>{var u=e[r];return u===void 0?R():(h=!0,P=!1,u)};else{var I=y(()=>(i?q:ee)(()=>e[r]));I.f|=H,o=()=>{var u=l(I);return u!==void 0&&(a=void 0),u===void 0?a:u}}if(!(s&F))return o;if(p){var U=e.$$legacy;return function(u,c){return arguments.length>0?((!t||!c||U||E)&&p(c?o():u),u):o()}}var w=!1,A=!1,x=B(f),_=y(()=>q(()=>{var u=o(),c=l(x);return w?(w=!1,A=!0,c):(A=!1,x.v=u)}));return i||(_.equals=V),function(u,c){if(arguments.length>0){const S=c?l(_):t&&b?ne(u):u;return _.equals(S)||(w=!0,K(x,S),P&&a!==void 0&&(a=S),L(()=>l(_))),u}return l(_)}}export{ve as a,pe as b,be as c,de as d,_e as e,Pe as l,le as p,he as r,we as s};
